diff --git a/CMakeLists.txt b/CMakeLists.txt
index aaca07d..797a6c6 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -25,7 +25,9 @@ set(CMAKE_INSTALL_INCLUDEDIR include/lib3mf CACHE PATH "directory for installing
 
 option(USE_INCLUDED_ZLIB "Use included zlib" ON)
 option(USE_INCLUDED_LIBZIP "Use included libzip" ON)
-option(USE_INCLUDED_SSL "Use included libressl" ON)
+option(USE_INCLUDED_SSL "Use included libressl in tests" ON)
+option(USE_INCLUDED_BASE_64 "Use included cpp base 64 library" ON)
+option(USE_INCLUDED_FAST_FLOAT "Use included fast float library" ON)
 option(BUILD_FOR_CODECOVERAGE "Build for code coverage analysis" OFF)
 option(STRIP_BINARIES "Strip binaries (on non-apple)" ON)
 option(USE_PLATFORM_UUID "Use UUID geneator that is provided by the OS (always ON for Windows)" OFF)
@@ -116,14 +118,6 @@ add_library(${PROJECT_NAME} SHARED ${SRCS_COMMON} ${HDRS_COMMON}
 SOURCE_GROUP("Source Files\\Autogenerated" FILES ${ACT_GENERATED_SOURCE})
 
 
-file(GLOB
-    LIBS_INCLUDE
-    LIST_DIRECTORIES true
-    ${CMAKE_CURRENT_SOURCE_DIR}/Libraries/*/Include
-)
-list(FILTER LIBS_INCLUDE EXCLUDE REGEX "zlib|libzip|libressl")
-target_include_directories(${PROJECT_NAME} PRIVATE ${LIBS_INCLUDE})
-
 # allow FASTFLOAT_ALLOWS_LEADING_PLUS
 add_definitions(-DFASTFLOAT_ALLOWS_LEADING_PLUS=1)
 
@@ -170,20 +164,36 @@ if (USE_INCLUDED_LIBZIP)
     endif()
 
 else()
-    find_package(PkgConfig REQUIRED)
-    pkg_check_modules(LIBZIP REQUIRED libzip)
-    target_link_libraries(${PROJECT_NAME} ${LIBZIP_LIBRARIES})
+    find_package(LIBZIP REQUIRED)
+    target_link_libraries(${PROJECT_NAME} PRIVATE libzip::zip)
 endif()
 
 
 if (USE_INCLUDED_ZLIB)
     target_include_directories(${PROJECT_NAME} PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/Libraries/zlib/Include)
 else()
-    find_package(PkgConfig REQUIRED)
-    pkg_check_modules(ZLIB REQUIRED zlib)
-    target_link_libraries(${PROJECT_NAME} ${ZLIB_LIBRARIES})
+    find_package(ZLIB REQUIRED)
+    target_link_libraries(${PROJECT_NAME} PRIVATE ZLIB::ZLIB)
 endif()
 
+if (NOT USE_INCLUDED_BASE_64)
+    # Include the directory for header files
+    find_path(CPP_BASE64_INCLUDE_DIRS "cpp-base64/base64.cpp")
+    include_directories("${CPP_BASE64_INCLUDE_DIRS}/cpp-base64")
+    set(BASE64_SRC
+            ${CPP_BASE64_INCLUDE_DIRS}/cpp-base64/base64.h
+            ${CPP_BASE64_INCLUDE_DIRS}/cpp-base64/base64.cpp)
+    message("BASE64_SRC" ${BASE64_SRC})
+    # Append BASE64_SRC to the target
+    target_sources(${PROJECT_NAME} PRIVATE ${BASE64_SRC})
+endif ()
+
+if (NOT USE_INCLUDED_FAST_FLOAT)
+    find_package(FastFloat CONFIG REQUIRED)
+    target_link_libraries(${PROJECT_NAME} PRIVATE FastFloat::fast_float)
+endif ()
+
+
 set_target_properties(${PROJECT_NAME} PROPERTIES PREFIX "" IMPORT_PREFIX "" )
 # This makes sure symbols are exported
 target_compile_options(${PROJECT_NAME} PRIVATE "-D__LIB3MF_EXPORTS")
@@ -228,8 +238,9 @@ endif(WIN32)
 
 configure_file(lib3mf.pc.in lib3mf.pc @ONLY)
 install(FILES ${CMAKE_BINARY_DIR}/lib3mf.pc DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig)
-install(FILES cmake/lib3mfConfig.cmake
-        DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/lib3mf)
+file(MAKE_DIRECTORY "${CMAKE_INSTALL_LIBDIR}/cmake/lib3mf")
+configure_file("cmake/lib3mfConfig.cmake" "lib3mfConfig.cmake" @ONLY)
+install(FILES "${CMAKE_BINARY_DIR}/lib3mfConfig.cmake" DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/lib3mf")
 install(TARGETS ${PROJECT_NAME}
   ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
   LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
diff --git a/Include/Common/NMR_StringUtils.h b/Include/Common/NMR_StringUtils.h
index 4cafe3a..b32bc76 100644
--- a/Include/Common/NMR_StringUtils.h
+++ b/Include/Common/NMR_StringUtils.h
@@ -37,7 +37,7 @@ and Exception-safe
 #include "Common/NMR_Types.h"
 #include "Common/NMR_Local.h"
 
-#include <fast_float.h>
+#include <fast_float/fast_float.h>
 
 #include <string>
 #include <string.h>
diff --git a/Source/CMakeLists.txt b/Source/CMakeLists.txt
index 2d94b2c..38b579f 100644
--- a/Source/CMakeLists.txt
+++ b/Source/CMakeLists.txt
@@ -12,7 +12,9 @@ if (USE_INCLUDED_ZLIB)
   file(GLOB ZLIB_FILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "Libraries/zlib/Source/*.c")
 endif()
 
-file (GLOB CPPBASE64_FILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "Libraries/cpp-base64/Source/*.cpp")
+if(USE_INCLUDED_BASE_64)
+  file (GLOB CPPBASE64_FILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "Libraries/cpp-base64/Source/*.cpp")
+endif ()
 
 # sources
 set(SRCS_PLATFORM
diff --git a/cmake/lib3mfConfig.cmake b/cmake/lib3mfConfig.cmake
index f1305b8..d8b6ab0 100644
--- a/cmake/lib3mfConfig.cmake
+++ b/cmake/lib3mfConfig.cmake
@@ -1,4 +1,16 @@
 # lib3mfConfig.cmake
+include(CMakeFindDependencyMacro)
+if(NOT @USE_INCLUDED_LIBZIP@)
+    find_dependency(libzip)
+endif()
+
+if(NOT @USE_INCLUDED_ZLIB@)
+    find_dependency(ZLIB)
+endif()
+
+if(NOT @USE_INCLUDED_FAST_FLOAT@)
+    find_dependency(FastFloat CONFIG)
+endif()
 
 if(VCPKG_TOOLCHAIN)
     message("Lib3MF - VCPKG Tool Chain")
